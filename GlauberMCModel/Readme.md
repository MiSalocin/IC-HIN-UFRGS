# Monte Carlo Glauber Simulator

The program has the objective of simulating the particles generated by two colliding nuclei.

We use the [ROOT Framework](https://root.cern/)
to generate the data, and consider the following flags:

* __-l:__ Do not show the ROOT banner when it starts up;
* __-b:__ Run the macro in batch mode without creating windows;
* __-q:__ Exit ROOT after processing command line macro files;
* __-t:__ Enable thread-safety and implicit multi-threading (IMT).

As for the program itself, the files can be seen below:

# Collide

The main file, responsible for generating the data of the collision itself.
You should run command with:

    root -l -q -t 'collide.cpp(String "filename", int nucleons, int simulations, int nThreads)'

## Arguments received

* __Filename:__ Receive the folder and file that you want to save the collision data, the
default value is "./data.root";

* __Nucleons:__ Specify the number of nucleons in the nuclei that you want to simulate, the
default value is 208 (lead nucleus);

* __Simulations:__ Specify the number of simulations that you wish to generate, the default
value is 1,000,000;

* __nThreads:__ Specify the number of processor's threads to be used in the simulation.

## Generated data

The data saved in the file is in a ROOT TTree format, with
the following variables:
* __Collisions (NColl/I):__ The amount collisions between two nucleons;
* __Participants (NPart/I):__ The amount single nucleons that participated in at least
  one collision;
* __Distance (Dist/D):__ The distance in fm between the two nuclei.

***
# CollisionsDraw

Generate a visual representation of the collisions, it can be run with:

    root -l -b -q 'collisionsDraw.cpp(int nucleons, int simulations, String "location")'

## Arguments received

* __Nucleons:__ Specify the number of nucleons in the nuclei that you want to simulate,
the default value is 208 (lead nucleus);

* __Simulations:__ Specify the number of simulations that you wish to graph, the default
value is 20;

* __Location:__ Receive the folder that you want to save the collision data, the default
value is "./simulations".

***
# Process

Generate graphs to visualize the generated data by
[the colide program](#Collide):

    root -l -b -q 'process.cpp(String "datafile", String "location")'

## Arguments received

* __Datafile:__ Receive the folder that the data file is, the default value is "./data.root";

* __Location:__ Receive the folder that you want to save the collision data, the default value is "./graphs".

***
# NBD

We consider that particle production in nucleon-nucleon collisions (proton-proton, proton-neutron, neutron-neutron) follow a Negative Binomial Distribution (NBD), this code tries to fit the generated data with experimental data from colliders (for example, we use CMS public data, CMS Open Data of PbPb collisions at the LHC with nucleon-nucleon center-of-mass energy of 2.76 TeV):

<<<<<<< HEAD
    root -l 'nbd(char* dataFile, char* compareFile)'
=======
    root -l 'nbd(int nruns, char* dataFile, char* compareFile)'
>>>>>>> 82e75058e8ca3415798da5809217a35bdbe01437

the used NBD formula is:

$$ f(n) = \dfrac{\Gamma (k+n)}{k! \cdot \Gamma(n)} \cdot \dfrac{(\mu/k)^n}{(1 + \mu/k)^{n + k}} $$

## Arguments received

* __DataFile:__ Specify the place of where the data generated by the “collide” program is located;

* __CompareFile:__ Specify the place of the experimental data;

## Generated data

* __results.png:__ An 2D hist showing the chi² error for all mu and k values;

* __hist.png:__ A histogram showing the experimental energy data and the simulated one;  
***

# Notes

* If you want to run the macros directly using windows in VS, you will need to add backslashes
before the quotation marks.
